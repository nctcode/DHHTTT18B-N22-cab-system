{
  "info": {
    "_postman_id": "driver-service-api-collection",
    "name": "API D·ªãch v·ª• T√†i x·∫ø",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "B·ªô s∆∞u t·∫≠p Postman ƒë·∫ßy ƒë·ªß ƒë·ªÉ ki·ªÉm th·ª≠ D·ªãch v·ª• T√†i x·∫ø"
  },
  "item": [
    {
      "name": "üîß Ki·ªÉm tra t√¨nh tr·∫°ng",
      "request": {
        "method": "GET",
        "header": [],
        "url": "http://localhost:3003/health"
      }
    },
    {
      "name": "üë• Qu·∫£n l√Ω T√†i x·∫ø",
      "item": [
        {
          "name": "üìã L·∫•y t·∫•t c·∫£ t√†i x·∫ø",
          "request": {
            "method": "GET",
            "header": [],
            "url": "http://localhost:3003/drivers?page=1&limit=10"
          }
        },
        {
          "name": "‚ûï T·∫°o T√†i x·∫ø - Th√†nh c√¥ng",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Nguy·ªÖn VƒÉn Test\",\n  \"phone\": \"0911111111\",\n  \"vehicle_type\": \"car\",\n  \"vehicle_plate\": \"51T-99999\",\n  \"status\": \"OFFLINE\",\n  \"rating\": 5.0\n}"
            },
            "url": "http://localhost:3003/drivers"
          }
        },
        {
          "name": "üë§ L·∫•y T√†i x·∫ø theo ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": "http://localhost:3003/drivers/{{driverId}}"
          }
        },
        {
          "name": "‚úèÔ∏è C·∫≠p nh·∫≠t T√†i x·∫ø",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"T√™n T√†i x·∫ø ƒê√£ C·∫≠p nh·∫≠t\",\n  \"phone\": \"0911111111\",\n  \"vehicle_type\": \"premium\",\n  \"vehicle_plate\": \"51T-99999\",\n  \"rating\": 4.9\n}"
            },
            "url": "http://localhost:3003/drivers/{{driverId}}"
          }
        },
        {
          "name": "üîÑ C·∫≠p nh·∫≠t Tr·∫°ng th√°i T√†i x·∫ø",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"ONLINE\"\n}"
            },
            "url": "http://localhost:3003/drivers/{{driverId}}/status"
          }
        },
        {
          "name": "üóëÔ∏è X√≥a T√†i x·∫ø",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": "http://localhost:3003/drivers/{{driverId}}"
          }
        },
        {
          "name": "‚ùå L·ªói X√°c th·ª±c",
          "item": [
            {
              "name": "S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Test\",\n  \"phone\": \"123\",\n  \"vehicle_type\": \"car\",\n  \"vehicle_plate\": \"51A-12345\"\n}"
                },
                "url": "http://localhost:3003/drivers"
              }
            },
            {
              "name": "Bi·ªÉn s·ªë xe kh√¥ng h·ª£p l·ªá",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Test\",\n  \"phone\": \"0912345678\",\n  \"vehicle_type\": \"car\",\n  \"vehicle_plate\": \"123\"\n}"
                },
                "url": "http://localhost:3003/drivers"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üìç D·ªãch v·ª• V·ªã tr√≠",
      "item": [
        {
          "name": "üìç C·∫≠p nh·∫≠t V·ªã tr√≠ T√†i x·∫ø",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"driverId\": \"{{driverId}}\",\n  \"lat\": 10.7769,\n  \"lng\": 106.7009\n}"
            },
            "url": "http://localhost:3003/locations/update"
          }
        },
        {
          "name": "üîç T√¨m T√†i x·∫ø G·∫ßn ƒë√¢y",
          "request": {
            "method": "GET",
            "header": [],
            "url": "http://localhost:3003/locations/nearby?lat=10.7769&lng=106.7009&radius=5&limit=10"
          }
        },
        {
          "name": "üìç L·∫•y V·ªã tr√≠ T√†i x·∫ø",
          "request": {
            "method": "GET",
            "header": [],
            "url": "http://localhost:3003/locations/{{driverId}}"
          }
        },
        {
          "name": "üìú L·∫•y L·ªãch s·ª≠ V·ªã tr√≠",
          "request": {
            "method": "GET",
            "header": [],
            "url": "http://localhost:3003/locations/{{driverId}}/history?hours=24"
          }
        }
      ]
    },
    {
      "name": "üß™ K·ªãch b·∫£n Ki·ªÉm th·ª≠",
      "item": [
        {
          "name": "K·ªãch b·∫£n 1: V√≤ng ƒë·ªùi Ho√†n ch·ªânh c·ªßa T√†i x·∫ø",
          "request": {
            "method": "GET",
            "header": [],
            "url": "http://localhost:3003/health"
          }
        },
        {
          "name": "K·ªãch b·∫£n 2: T·∫°o Nhi·ªÅu T√†i x·∫ø",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\n  {\n    \"name\": \"T√†i x·∫ø 1\",\n    \"phone\": \"0911111111\",\n    \"vehicle_type\": \"car\",\n    \"vehicle_plate\": \"51A-11111\"\n  },\n  {\n    \"name\": \"T√†i x·∫ø 2\",\n    \"phone\": \"0922222222\",\n    \"vehicle_type\": \"bike\",\n    \"vehicle_plate\": \"51B-22222\"\n  },\n  {\n    \"name\": \"T√†i x·∫ø 3\",\n    \"phone\": \"0933333333\",\n    \"vehicle_type\": \"premium\",\n    \"vehicle_plate\": \"51C-33333\"\n  }\n]"
            },
            "url": "http://localhost:3003/drivers/batch"
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3003"
    },
    {
      "key": "driverId",
      "value": "550e8400-e29b-41d4-a716-446655440000"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "console.log('B·∫Øt ƒë·∫ßu ki·ªÉm th·ª≠ cho: ' + pm.request.name);",
          "pm.environment.set('timestamp', new Date().toISOString());"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Ki·ªÉm tra chung cho t·∫•t c·∫£ c√°c y√™u c·∫ßu",
          "pm.test('M√£ tr·∫°ng th√°i l√† 2xx', function () {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 201, 204]);",
          "});",
          "",
          "pm.test('Th·ªùi gian ph·∫£n h·ªìi nh·ªè h∆°n 1000ms', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(1000);",
          "});",
          "",
          "pm.test('Ph·∫£n h·ªìi c√≥ ki·ªÉu n·ªôi dung JSON', function () {",
          "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
          "});"
        ]
      }
    }
  ]
}